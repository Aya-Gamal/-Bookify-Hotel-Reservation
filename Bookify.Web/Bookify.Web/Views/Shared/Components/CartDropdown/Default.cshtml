@model CartDropdownViewModel

<li class="nav-item dropdown">
    <a class="nav-link position-relative" href="#" id="cartDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        <i class="fa fa-shopping-cart fa-lg text-primary"></i>

        @if (Model.Count > 0)
        {
            <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
                @Model.Count
            </span>
        }
    </a>

    <ul class="dropdown-menu dropdown-menu-end p-3 shadow-sm" aria-labelledby="cartDropdown" style="min-width: 300px;">

        @if (Model.Items.Any())
        {
            @foreach (var item in Model.Items)
            {
                <li class="d-flex align-items-center mb-3">
                    <img src="/images/room/room-@(item.RoomId).jpg" class="rounded me-2" style="width:50px; height:40px; object-fit:cover;">
                    <div>
                        <p class="mb-0 fw-semibold">@item.RoomName</p>
                        <small class="text-muted">$@item.PricePerNight / night</small>
                        <br />
                        <small>@item.CheckIn.ToString("dd MMM") → @item.CheckOut.ToString("dd MMM")</small>
                    </div>
                </li>
            }

            <li><hr class="dropdown-divider" /></li>

            <li class="text-center">
                <a asp-controller="Cart" asp-action="Index" class="btn btn-primary btn-sm w-100 rounded-3">Go to Cart</a>
            </li>
        }
        else
        {
            <li class="text-center p-2 text-muted">Cart is empty</li>
        }
    </ul>
</li>
